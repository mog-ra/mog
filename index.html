import React, { useState, useEffect } from 'react';
import {
  Menu, X, Check, Clock, Shield, Coins, Bolt,
  ArrowRight, Mail, Phone, Quote, Briefcase, Layout,
  Zap, Star, Smartphone
} from 'lucide-react';

const App = () => {
  const [activePage, setActivePage] = useState('home');
  const [isMenuOpen, setIsMenuOpen] = useState(false);
  const [scrollTarget, setScrollTarget] = useState(null);

  // ページ変更時トップへ
  useEffect(() => {
    window.scrollTo(0, 0);
  }, [activePage]);

  // homeに戻った後スクロールさせる
  useEffect(() => {
    if (activePage === 'home' && scrollTarget) {
      const el = document.getElementById(scrollTarget);
      if (el) el.scrollIntoView({ behavior: 'smooth' });
      setScrollTarget(null);
    }
  }, [activePage, scrollTarget]);

  const scrollToSection = (id) => {
    if (activePage !== 'home') {
      setScrollTarget(id);
      setActivePage('home');
    } else {
      const el = document.getElementById(id);
      if (el) el.scrollIntoView({ behavior: 'smooth' });
    }
    setIsMenuOpen(false);
  };

  /* ---------------- Navigation ---------------- */

  const Navigation = () => (
    <nav className="fixed w-full z-50 bg-white/90 backdrop-blur border-b">
      <div className="max-w-7xl mx-auto px-6 h-20 flex justify-between items-center">
        <div className="cursor-pointer" onClick={() => setActivePage('home')}>
          <p className="text-2xl font-black text-blue-600">MOG LLC</p>
          <p className="text-xs text-slate-400">合同会社MOG</p>
        </div>

        <div className="hidden md:flex gap-6 font-bold text-sm">
          <button type="button" onClick={() => setActivePage('home')}>ホーム</button>
          <button type="button" onClick={() => setActivePage('dx')}>バックオフィスDX</button>
          <button type="button" onClick={() => setActivePage('web')}>WEB制作</button>
          <button type="button" onClick={() => scrollToSection('voice')}>導入事例</button>
          <button type="button" onClick={() => scrollToSection('faq')}>FAQ</button>
        </div>

        <button type="button" className="md:hidden" onClick={() => setIsMenuOpen(!isMenuOpen)}>
          {isMenuOpen ? <X /> : <Menu />}
        </button>
      </div>
    </nav>
  );

  /* ---------------- Home ---------------- */

  const HomePage = () => (
    <div className="pt-20">
      <section className="min-h-screen flex items-center">
        <div className="max-w-6xl mx-auto px-6">
          <h1 className="text-5xl font-black mb-6">
            小さな会社の、<span className="text-blue-600">明日を変えるDX。</span>
          </h1>
          <p className="text-xl text-slate-500 mb-10">
            ITを「難しいもの」から「使える道具」に変えます。
          </p>

          <div className="flex gap-4">
            <button
              type="button"
              onClick={() => setActivePage('dx')}
              className="bg-blue-600 text-white px-8 py-4 rounded-xl font-bold"
            >
              DXを見る
            </button>

            <button
              type="button"
              onClick={() => setActivePage('web')}
              className="border px-8 py-4 rounded-xl font-bold"
            >
              WEB制作
            </button>
          </div>
        </div>
      </section>

      <section id="voice" className="py-24 bg-slate-50">
        <h2 className="text-center text-3xl font-black mb-12">導入事例</h2>
        <div className="max-w-5xl mx-auto grid md:grid-cols-3 gap-6 px-6">
          {[1,2,3].map(i => (
            <div key={i} className="bg-white p-8 rounded-2xl shadow">
              <Star className="text-yellow-400 mb-4" />
              <p>業務時間が大幅に削減されました。</p>
            </div>
          ))}
        </div>
      </section>

      <section id="faq" className="py-24">
        <h2 className="text-center text-3xl font-black mb-12">FAQ</h2>
        <div className="max-w-3xl mx-auto space-y-4 px-6">
          <div className="p-6 bg-slate-50 rounded-xl">
            <p className="font-bold">ITが苦手でも大丈夫？</p>
            <p className="text-slate-500">問題ありません。完全サポートします。</p>
          </div>
        </div>
      </section>
    </div>
  );

  /* ---------------- DX ---------------- */

  const DXPage = () => (
    <div className="pt-28 px-6 max-w-5xl mx-auto">
      <button type="button" onClick={() => setActivePage('home')} className="mb-10 flex items-center">
        <ArrowRight className="rotate-180 mr-2" /> 戻る
      </button>

      <h1 className="text-4xl font-black mb-6">バックオフィスDX</h1>
      <p className="text-lg text-slate-500 mb-10">
        勤怠・給与・経理をすべて自動連携します。
      </p>
    </div>
  );

  /* ---------------- WEB ---------------- */

  const WebPage = () => (
    <div className="pt-28 px-6 max-w-5xl mx-auto">
      <button type="button" onClick={() => setActivePage('home')} className="mb-10 flex items-center">
        <ArrowRight className="rotate-180 mr-2" /> 戻る
      </button>

      <h1 className="text-4xl font-black mb-6">WEB制作</h1>
      <p className="text-lg text-slate-500">
        集客できるホームページを制作します。
      </p>
    </div>
  );

  /* ---------------- Footer ---------------- */

  const Footer = () => (
    <footer className="py-16 bg-slate-50 mt-20">
      <div className="text-center space-y-4">
        <p className="font-black text-blue-600">MOG LLC</p>
        <p className="text-slate-400 text-sm">©2026</p>
      </div>
    </footer>
  );

  /* ---------------- Render ---------------- */

  return (
    <div className="font-sans">
      <Navigation />

      {activePage === 'home' && <HomePage />}
      {activePage === 'dx' && <DXPage />}
      {activePage === 'web' && <WebPage />}

      <Footer />
    </div>
  );
};

export default App;
